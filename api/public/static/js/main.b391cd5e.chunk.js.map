{"version":3,"sources":["modules/userData.js","components/Popup.js","components/InputWithLabel.js","modules/geolocate.js","modules/httpQueries.js","views/Header/components/LoginPopup.js","views/Header/components/RegisterPopup.js","views/Header/components/ForgotPopup.js","views/Header/components/ResetPopup.js","components/ProfileImage.js","views/Header/components/Notifications.js","views/Header/components/Nav.js","views/Header/Header.js","views/Index/Suggestions.js","views/Index/Filters.js","views/Index/UserCard.js","views/Index/ProfilePreview.js","views/Index/Index.js","views/MyProfile/ProfileNav.js","components/RadioWithLabel.js","views/MyProfile/TagsInput.js","views/MyProfile/MyProfileMap.js","views/MyProfile/MyProfileInfo.js","views/MyProfile/MyProfileImage.js","views/MyProfile/MyProfileImages.js","views/MyProfile/MyProfile.js","views/MyProfile/MyLikesLikes.js","views/MyProfile/MyLikesLikee.js","views/MyProfile/MyLikes.js","views/MyProfile/MyVisits.js","views/Map/Map.js","views/Chat/Connection.js","views/Chat/Chatmessages.js","views/Chat/Chatwindow.js","views/Chat/Chat.js","App.js","index.js"],"names":["setUser","username","id","age","tags","loggedIn","localStorage","setItem","JSON","stringify","module","exports","getUser","getItem","parse","getToken","setToken","token","Popup","children","setPopupState","style","width","height","backgroundColor","position","top","left","justifyContent","alignItems","zIndex","display","maxHeight","maxWidth","borderRadius","padding","textAlign","transform","onClick","right","border","boxShadow","cursor","CustomInputField","type","name","state","label","eventHandler","setState","step","pattern","required","max","min","className","onChange","event","value","InputWithLabel","integer","htmlFor","Number","isInteger","target","getGeolocation","coords","removeItem","parsed","latitude","longitude","generateImageUrl","extension","fallbackImageUrl","src","getAuthHeader","Authorization","getThisPage","relativeUrl","url","axios","get","headers","then","response","data","localLogout","reload","clear","window","location","href","logOut","socketState","all","baseUrl","request","post","emit","user","photoActions","action","rerenderTrick","setRerenderTrick","submitLike","path","likeAction","likeButtonStrings","noLikes","theyLike","loginResponseHandler","alert","LoginPopup","useState","setUsername","password","setPassword","useEffect","navigator","geolocation","getCurrentPosition","onSubmit","preventDefault","reqBody","submitLogin","color","fontWeight","marginTop","transition","to","RegisterPopup","confirmPassword","setConfirmPassword","email","setEmail","firstName","setFirstName","lastName","setLastName","jsonData","uname","first_name","last_name","submitRegister","ForgotPopup","submitForgot","ResetPopup","submitResetPassword","ProfileImage","filename","alt","onError","NotificationCard","notification","notifiStr","reason","marginBottom","read","marginRight","notificationsWindowStyle","flexFlow","notificationWindowContainerStyle","overflow","Notifications","unreadNotificationsCount","setUnreadNotificationsCount","notificationsDisplay","setNotificationsDisplay","notifications","setNotifications","longPollState","setLongPollState","getNotifications","markRead","results","setTimeout","notificationCards","length","map","item","key","new","unreadCount","filter","i","Button","size","variant","displayNotifications","count","Nav","popupState","useLocation","pathname","substr","CollapsedNotificationCount","collapsedNotificationsNotifierStyle","Header","props","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Suggestions","users","distanceFilter","minAge","maxAge","minCommonTags","sort","tagSearch","userCards","element","profile","distance","commonTags","includes","a","b","order","Filters","setDistance","setMinAge","setMaxAge","setMinCommonTags","setSort","sortingMethods","setTagSearch","tagSearchInput","setTagSearchInput","distanceDisplay","setDistanceDisplay","sortingMethodOptions","method","index","distanceHandler","values","setMin","setMax","rangeEventHandler","setFunction","placeholder","aria-describedby","replace","tagEventHandler","CommonTagsDisplay","tag","UserCard","preview","commonTagsList","background","font","outline","margin","fontStyle","online","toFixed","ProfilePreview","stateChange","setStateChange","previewState","modifyPreviewState","blockStatus","smallPicStyle","imageButton","previewImage","modifyPreviewImage","imagePopupState","modifyImagePopupState","profileData","last_login","date","split","reverse","join","time","paddingTop","fame","fontSize","images","image","overflowWrap","biography","tags_string","likeButton","confirm","disabled","reportStatus","Zindex","Index","userData","setUsers","setDistanceFilter","previewId","setPreviewId","previewProfile","setPreviewProfile","searchObj","str","arr","substring","ret","forEach","parseSearchString","search","obj","endpoint","generateUserCards","code","Promise","resolve","reject","submit42Code","DropdownButton","title","overflowY","ProfileNav","RadioWithLabel","options","option","checked","paddingLeft","SingleTag","tagRemoval","marginLeft","borderColor","TagsInput","setTags","newTag","setNewTag","singleTags","containerStyle","MyProfileMap","lat","lon","setLat","setLon","lng","mapCentre","setMapCentre","parseFloat","googleMapsApiKey","apiKey","mapContainerStyle","center","zoom","draggable","onDragEnd","latLng","dragEndHandler","MyProfileInfo","setAge","setLatitude","setLongitude","gender","setGender","setTarget","setBiography","myProfileSaveStatus","setMyProfileSaveStatus","checkValidity","reportValidity","sendMyProfileData","MyProfileImage","photo","main_pic","photoStyle","Container","Row","MyProfileImages","uploadPhotos","photos","formData","FormData","Array","prototype","call","append","uploadPhoto","files","r","uploadedImages","multiple","accept","data-browse","MyProfile","profileState","setProfileState","target_genders","MyLikesLikes","likes","modifyPreview","modifyWho","smallPic","like","likee","visitee","visiteePic","visiteePhoto","likeePhoto","likeeUsername","visiteeUsername","MyLikesLikee","liker","visitor","visitorPic","visitorPhoto","likerPhoto","likerUsername","visitorUsername","MyLikes","likesState","setLikesState","modifyPreviewLikedWhoState","Tabs","defaultActiveKey","Tab","eventKey","liked","render","likedMe","MyVisits","visitsState","setVisitsState","visited","visitedMe","coordinateRandomiser","coord","Math","random","GeneratedMarker","randomisedLat","randomisedLon","latMagnitude","abs","lonMagnitude","clickable","UserMap","userLocations","setUserLocations","locations","generatedMarkers","Connection","connections","chat","setChat","chatWindow","setChatWindow","setChatUsername","connection","ChatMessages","messages","otherUser","mostRecentMessage","asd","asd2","message","sender_name","content","Chatwindow","socket","chatUsername","chatMessages","setChatMessages","setMostRecentMessage","myToken","document","getElementById","msg","me","on","error","autoComplete","onKeyPress","keyCode","which","bind","flexDirection","Chat","setConnections","refresh","setRefresh","chatWindowOpen","bottom","openConnections","App","setSocketState","io","connect","Map","ReactDOM"],"mappings":"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","file":"static/js/main.b391cd5e.chunk.js","sourcesContent":["const getUser = () => {\n\tif (!localStorage.getItem('user'))\n\t\tsetUser('', '', false);\n\tconst user = JSON.parse(localStorage.getItem('user'));\n\treturn user;\n\n};\n\nconst setUser = (username, id, age, tags = null, loggedIn = false) => {\n\tlocalStorage.setItem('user', JSON.stringify({\n\t\t'username': username,\n\t\t'id': id,\n\t\t'age': age,\n\t\t'loggedIn': loggedIn,\n\t\t'tags': tags\n\t}));\n};\n\nconst getToken = () => localStorage.getItem('token');\n\nconst setToken = token => localStorage.setItem('token', token);\n\nmodule.exports = {\n\tgetUser,\n\tsetUser,\n\tgetToken,\n\tsetToken\n};\n","import React from 'react';\n\nexport const Popup = ({children, setPopupState}) => {\n\tconst backGround =\n\t{\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.3)',\n\t\tposition: 'fixed',\n\t\ttop: '0',\n\t\tleft: '0',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tzIndex: '22',\n\t}\n\tconst box =\n\t{\n\t\tdisplay: 'inline-block',\n\t\twidth: 'fit-content',\n\t\theight: 'fit-content',\n\t\tmaxHeight: '93%',\n\t\tmaxWidth: '85%',\n\t\tbackgroundColor: 'white',\n\t\tposition: 'fixed',\n\t\tborderRadius: '10px',\n\t\tpadding: '20px',\n\t\ttextAlign: 'center',\n\t\ttop: '50%',\n\t\tleft: '45%',\n\t\ttransform: 'translate(-50%, -50%)',\n\t\tzIndex: '998'\n\t};\n\n\tconst closeButton =\n\t{\n\t\theight: '27px',\n\t\twidth: '27px',\n\t\tposition: 'absolute',\n\t\ttop: '-15px',\n\t\tright: '-15px',\n\t\tbackgroundColor: 'white',\n\t\tborderRadius: '15px',\n\t\tborder: '1px solid gray',\n\t\tboxShadow: '6px 6px 29px -1px rgba(0, 0, 0, 1)',\n\t\tcursor: 'pointer',\n\t\tzIndex: '999'\n\t}\n\n\tconst button = \n\t{\n\t\t\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div style={backGround}>\n\t\t\t\t<div style={box}>\n\t\t\t\t\t{children}\n\t\t\t\t\t<button onClick={() => {setPopupState(false)}} style={closeButton}>X</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n// position: 'absolute',\n// \t\ttop: '100px',\n// \t\tleft: '100px',\n// \t\tzIndex: '9',\n// \t\tbackgroundColor: 'white',\n// \t\tborder: '1px solid black',\n// \t\tpadding: '1em'\n","import React from 'react';\n\n// const generateRandomId = () => Math.floor(1 + Math.random());\n\nconst CustomInputField = ({type, name, label, state, setState, eventHandler, step = 1, pattern, required, max, min}) => {\n\tif (type === 'textarea')\n\t\treturn <textarea name={name} className=\"form-control\" onChange={event => eventHandler(event)} value={state || ''} required={required ? true : false} />;\n\telse if (type === 'number' && typeof max !== 'undefined' && typeof min !== 'undefined')\n\t\treturn <input type={type} className=\"form-control\" name={name} value={state} onChange={event => eventHandler(event)} step={step} min={min} max={max} required={required} />;\n\telse if (type === 'number')\n\t\treturn <input type={type} className=\"form-control\" name={name} value={state} onChange={event => eventHandler(event)} step={step} required={required} />;\n\telse if (type === 'text' && pattern)\n\t\treturn <input type={type} className=\"form-control\" name={name} value={state} onChange={event => eventHandler(event)} pattern={pattern} required={required} />;\n\telse\n\t\treturn <input type={type} className=\"form-control\" name={name} value={state} onChange={event => eventHandler(event)} required={required} />;\n\n};\n\nconst InputWithLabel = ({type, name, label, state, setState, step, integer, pattern, required, max, min}) => {\n\tconst eventHandler = event => {\n\t\tif (!integer || Number.isInteger(Number(event.target.value)))\n\t\t\tsetState(event.target.value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<label htmlFor={name}>{label}</label>\n\t\t\t<CustomInputField type={type} name={name} label={label} state={state} setState={setState} eventHandler={eventHandler} step={step} pattern={pattern} required={required} max={max} min={min} />\n\t\t\t<br />\n\t\t</div>\n\t);\n};\n\nexport default InputWithLabel;\n","export const userGeolocation = () => {\n\tif (navigator.geolocation) {\n\t\tnavigator.geolocation.getCurrentPosition(position => {\n\t\t\tif (!position.coords.longitude || !position.coords.latitude)\n\t\t\t\treturn;\n\t\t\telse {\n\t\t\t\tlocalStorage.setItem('coordinates', JSON.stringify({\n\t\t\t\t\tlatitude: position.coords.latitude,\n\t\t\t\t\tlongitude: position.coords.longitude\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t}\n};\n\nexport const getGeolocation = () => {\n\tconst coords = localStorage.getItem('coordinates');\n\tlocalStorage.removeItem('coordinates');\n\n\tif (!coords)\n\t\treturn {\n\t\t\tlatitude: null,\n\t\t\tlongitude: null\n\t\t};\n\n\telse {\n\t\tconst parsed = JSON.parse(coords);\n\t\treturn {\n\t\t\tlatitude: parsed.latitude,\n\t\t\tlongitude: parsed.longitude\t\t\n\t\t}\n\t}\n};\n","import axios from 'axios';\n\nimport {setUser, setToken} from './userData';\nimport {getToken} from './userData';\nimport {getGeolocation} from './geolocate';\n\nimport {likeButtonStrings} from '../config.json';\n\nconst baseUrl = '/api';\n\n// This function will generate a link to a user image on the server.\n// Can be used with 2 arguments: (id, extension) or 1: (filename)\nexport const generateImageUrl = (id, extension) => {\n\tif (id === 'placeholder.png' || !id || id === 'null')\n\t\treturn '/img/placeholder.png';\n\tconst dirUrl = '/img/userPhotos/';\n\tif (typeof extension === 'undefined')\n\t\treturn dirUrl + id;\n\telse\n\t\treturn dirUrl + id + '.' + extension;\n};\n\nexport const fallbackImageUrl = event => {\n\tevent.target.src = generateImageUrl('placeholder.png');\n}\n\nconst getAuthHeader = () => {\n\treturn {Authorization: `Bearer ${getToken()}`};\n};\n\nexport const getThisPage = relativeUrl => {\n\tconst url = baseUrl + relativeUrl;\n\tconst request = axios.get(url, {headers: getAuthHeader()});\n\treturn request.then(response => {\n\t\tif (response.data === 'logged out') {\n\t\t\tlocalLogout(true);\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t\treturn response.data;\n\t});\n}\n\nconst localLogout = (reload = false) => {\n\tlocalStorage.clear();\n\tif (reload)\n\t\twindow.location.href = '/';\n}\n\nexport const submit42Code = (code, action) => {\n\tlet coords = {};\n\tif (action === 'apiLogin')\n\t\tcoords = getGeolocation();\n\tconst url = baseUrl + '/' + action;\n\t\n\tconst request = axios.post(url, {code: code, latitude: coords.latitude, longitude: coords.longitude});\n\treturn new Promise((resolve, reject) => {\n\t\trequest.then(response => resolve(response.data));\n\t});\n};\n\nexport const logOut = (setState, socketState, all = false) => {\n\tconst url = baseUrl + '/logout';\n\tconst request = axios.post(url, {all: all}, {headers: getAuthHeader()});\n\tsetState({});\n\tsocketState.emit('logOut', {user: getToken()});\n\tlocalStorage.clear();\n\trequest.then(response => localLogout(true));\n\t\n};\n\nexport const uploadPhoto = photos => {\n\tlet formData = new FormData();\n\tArray.prototype.forEach.call(photos, photo => {\n\t\tformData.append('photos', photo);\n\t});\n\tconst request = axios.post(baseUrl + '/myProfile/pics', formData, {headers: getAuthHeader()});\n\treturn request.then(response => {\n\t\tif (response.data === 'logged out') {\n\t\t\tlocalLogout(true);\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t\treturn response.data;\n\t});\t\n}\n\nexport const photoActions = (action, id, rerenderTrick, setRerenderTrick) => {\n\tconst request = axios.post(baseUrl + '/myProfile/photoActions',\n\t\t{action: action, id: id},\n\t\t{headers: getAuthHeader()});\n\tif (action === 'delete')\n\t\twindow.location.reload(false);\n\treturn request.then(response => {\n\t\tif (response.data === 'logged out') {\n\t\t\tlocalLogout(true);\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tsetRerenderTrick(!rerenderTrick);\n\t\t\treturn response.data;\n\t\t}\n\t});\t\n};\n\nexport const sendMyProfileData = (event, firstName, lastName, age, latitude, longitude, email, gender, target, biography, tags, rerenderTrick, setRerenderTrick, setMyProfileSaveStatus) => {\n\tevent.preventDefault();\n\tif (!event.target.checkValidity()) {\n\t\tevent.target.reportValidity();\n\t\treturn;\n\t}\n\t\n\tconst url = baseUrl + '/myProfile/profile';\n\tconst reqBody = {\n\t\tfirstName: firstName,\n\t\tlastName: lastName,\n\t\tage: age,\n\t\tlatitude: latitude,\n\t\tlongitude: longitude,\n\t\temail: email,\n\t\tgender: gender,\n\t\ttarget: target,\n\t\tbiography: biography,\n\t\ttags: tags\n\t};\n\n\tconst request = axios.post(url, reqBody, {headers: getAuthHeader()});\n\treturn request.then(response => {\n\t\tif (response.data === 'logged out') {\n\t\t\tlocalLogout(true);\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tsetRerenderTrick(!rerenderTrick);\n\t\t\tif (response.data && response.data.token) {\n\t\t\t\tsetToken(response.data.token);\n\t\t\t\tsetMyProfileSaveStatus('OK');\n\t\t\t}\n\t\t\telse\n\t\t\t\tsetMyProfileSaveStatus('Error, changes not saved');\n\t\t}\n\t});\n}\n\nexport const submitLike = (path, action, state, setState) => {\n\t\n\tconst url = baseUrl + path;\n\tlet likeAction = '';\n\tif (action === 'block')\n\t\tlikeAction = 'block';\n\telse if (action === 'unblock')\n\t\tlikeAction = 'unblock';\n\telse if (action === 'report')\n\t\tlikeAction = 'report';\n\telse if (action === likeButtonStrings.noLikes || action === likeButtonStrings.theyLike)\n\t\tlikeAction = 'like';\n\telse\n\t\tlikeAction = 'unlike';\n\n\tconst request = axios.post(url, {action: likeAction},\n\t\t{headers: getAuthHeader()});\n\trequest.then(response => {\n\t\tif (response.data === 'logged out') {\n\t\t\tlocalLogout(true);\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t\tsetState(!state);;\n\t});\n};\n\nexport const loginResponseHandler = (data, setState, setPopupState) => {\n\tif (!data || data === 'email' || data === 'Database error') {\n\t\tsetState({});\n\t\tlocalStorage.clear();\n\t\tif (data === 'email')\n\t\t\talert('Make sure to confirm your email address before logging in.');\n\t\telse\n\t\t\talert('Login failed.');\n\t\treturn false;\n\t}\n\telse {\n\t\tsetUser(data.username, data.id, data.age, data.tags, true);\n\t\tsetToken(data.token);\n\t\tsetState({loggedIn: true, username: data.username, id: data.id});\n\t\tsetPopupState(false);\n\t\twindow.location.href = '/';\n\t\treturn true;\n\t}\n}\n\nexport const submitLogin = (event, setState, setPopupState, username, password) => {\n\tevent.preventDefault();\n\n\tconst coords = getGeolocation();\n\n\tlet reqBody = {\n\t\tusername: username,\n\t\tpassword: password,\n\t\tlatitude: coords.latitude,\n\t\tlongitude: coords.longitude\n\t};\n\n\taxios.post(baseUrl + '/login', reqBody)\n\t\t.then(response => {\n\t\t\tloginResponseHandler(response.data, setState, setPopupState);\n\t\t});\n};\n\nexport const submitRegister = (event, setPopupState, username, password, confirmPassword, email, firstName, lastName) => {\n\tevent.preventDefault();\n\n\tconst reqBody = {\n\t\tusername: username,\n\t\tpassword: password,\n\t\tconfirmPassword: confirmPassword, \n\t\temail: email,\n\t\tfirstName: firstName,\n\t\tlastName: lastName\n\t};\n\n\taxios.post(baseUrl + '/register', reqBody)\n\t\t.then(response => {\n\t\t\tif (response.data)\n\t\t\t\tsetPopupState(false);\n\t\t\telse\n\t\t\t\talert('Failed to register an account.');\n\t\t});\n};\n\nexport const submitForgot = (event, setPopupState, email) => {\n\tevent.preventDefault();\n\n\tconst reqBody = {email: email};\n\n\taxios.post(baseUrl + '/forgotPassword', reqBody)\n\t\t.then(response => {\n\t\t\tif (!response.data)\n\t\t\t\talert('Something went wrong, nothing has been done.');\n\t\t\telse\n\t\t\t\tsetPopupState(false);\n\t\t});\n};\n\nexport const submitResetPassword = (event, setPopupState, password, confirmPassword) => {\n\tevent.preventDefault();\n\n\taxios.post(baseUrl + '/resetPassword', {password: password, confirmPassword: confirmPassword})\n\t\t.then(response => {\n\t\t\tif (!response.data)\n\t\t\t\talert('Something went wrong');\n\t\t\telse\n\t\t\t\tsetPopupState(false);\n\t\t});\n};\n\nexport const submitConfirmEmailOrResetPassword = (obj, endpoint) => {\n\taxios.post(baseUrl + '/' + endpoint, obj)\n\t\t.then(response => {\n\t\t\tif (!response.data)\n\t\t\t\talert('Something went wrong, nothing has been done.');\n\t\t\telse\n\t\t\t\treturn true;\n\t\t\treturn false;\t\t\t\t\n\t\t});\n};\n\nexport const parseSearchString = str => {\n\tif (str.length < 2)\n\t\treturn null;\n\tconst arr = str.substring(1).split('&');\n\tconst ret = {};\n\tarr.forEach(value => {\n\t\tif (value.split('=').length === 2)\n\t\t\tret[value.split('=')[0]] = value.split('=')[1];\n\t});\n\treturn ret;\n}\n\nexport const getConnections = () => {\n\tconst request = axios.get(baseUrl + '/getConnections', {headers: getAuthHeader()})\n\t\treturn request.then(response => {\n\t\t\tif (!response.data || response.data === 'logged out')\n\t\t\t\talert('Something went wrong (getConnections) (probably trying to get connections without being logged in)');\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn(response.data);\n\t\t\t}\n\t\t});\n};\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {Popup} from '../../../components/Popup';\nimport InputWithLabel from '../../../components/InputWithLabel';\n\nimport {userGeolocation} from '../../../modules/geolocate';\nimport {submitLogin} from '../../../modules/httpQueries';\n\nexport const LoginPopup = ({state, setState, setPopupState}) => {\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst button = \n\t{\n\t\tcolor: 'white',\n\t\tfontWeight: 'bold',\n\t\tbackgroundColor: '#000050',\n\t\tpadding: '5px 15px',\n\t\tboxShadow: '6px 6px 29px -4px rgba(0, 0, 0, 0.75)',\n\t\tborderRadius: '5px',\n\t\tmarginTop: '25px',\n\t\ttransition: '0.4s'\n\t}\n\n\tuseEffect(() => {\n\t\tuserGeolocation()\n\t}, []);\n\n\treturn (\n\t\t<Popup setPopupState={setPopupState}>\n\t\t\t<form id='loginForm' onSubmit={event => submitLogin(event, setState, setPopupState, username, password)}>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='username' \n\t\t\t\t\tlabel='Username'\n\t\t\t\t\tstate={username}\n\t\t\t\t\tsetState={setUsername}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password' \n\t\t\t\t\tlabel='Password'\n\t\t\t\t\tstate={password}\n\t\t\t\t\tsetState={setPassword}\n\t\t\t\t/>\n\t\t\t\t<input style={button} type='submit' name='submit' value='OK' />\n\t\t\t</form>\n\t\t\t<Link to='#' onClick={() => setPopupState('forgotPassword')}>\n\t\t\t\tForgot your password?\n\t\t\t</Link>\n\t\t\t<div>\n\t\t\t\t<a href='https://api.intra.42.fr/oauth/authorize?client_id=932fc007009ee06ec98cba8f6d4842c092a26a18aef1875d5b7bc91d9308a7a0&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2FapiLogin&response_type=code'>Login with 42</a>\n\t\t\t</div>\n\t\t</Popup>\n\t);\n};\n","import React, {useState, useEffect} from 'react';\n\nimport {Popup} from '../../../components/Popup';\nimport InputWithLabel from '../../../components/InputWithLabel';\n\nimport {submitRegister} from '../../../modules/httpQueries';\n\nexport const RegisterPopup = ({setPopupState}) => {\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [firstName, setFirstName] = useState('');\n\tconst [lastName, setLastName] = useState('');\n\n\tuseEffect(() => {\n\t\tconst jsonData = localStorage.getItem('registerPrefill')\n\t\tif (jsonData) {\n\t\t\tconst data = JSON.parse(jsonData);\n\t\t\tif (data.uname)\n\t\t\t\tsetUsername(data.username);\n\t\t\tif (data.first_name)\n\t\t\t\tsetFirstName(data.first_name);\n\t\t\tif (data.last_name)\n\t\t\t\tsetLastName(data.last_name);\n\t\t\tif (data.email)\n\t\t\t\tsetEmail(data.email);\n\t\t\tlocalStorage.removeItem('registerPrefill');\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<Popup setPopupState={setPopupState}>\n\t\t\t<form id='registerForm'\n\t\t\t\tonSubmit={event =>\n\t\t\t\t\tsubmitRegister(event, setPopupState,\n\t\t\t\t\tusername, password, confirmPassword,\n\t\t\t\t\temail, firstName, lastName)}\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='username' \n\t\t\t\t\tlabel='Username'\n\t\t\t\t\tstate={username}\n\t\t\t\t\tsetState={setUsername}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='email'\n\t\t\t\t\tname='email' \n\t\t\t\t\tlabel='Email'\n\t\t\t\t\tstate={email}\n\t\t\t\t\tsetState={setEmail}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='firstName' \n\t\t\t\t\tlabel='First name'\n\t\t\t\t\tstate={firstName}\n\t\t\t\t\tsetState={setFirstName}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='lastName' \n\t\t\t\t\tlabel='Last name'\n\t\t\t\t\tstate={lastName}\n\t\t\t\t\tsetState={setLastName}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password' \n\t\t\t\t\tlabel='Password'\n\t\t\t\t\tstate={password}\n\t\t\t\t\tsetState={setPassword}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='confirmPassword' \n\t\t\t\t\tlabel='Confirm password'\n\t\t\t\t\tstate={confirmPassword}\n\t\t\t\t\tsetState={setConfirmPassword}\n\t\t\t\t/>\n\t\t\t\t<input type='submit' name='submit' value='OK' />\n\t\t\t</form>\n\t\t\t<div>\n\t\t\t\t<a href='https://api.intra.42.fr/oauth/authorize?client_id=932fc007009ee06ec98cba8f6d4842c092a26a18aef1875d5b7bc91d9308a7a0&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2FapiRegister&response_type=code'>Register with 42</a>\n\t\t\t</div>\n\t\t</Popup>\n\t);\n};\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {Popup} from '../../../components/Popup';\nimport InputWithLabel from '../../../components/InputWithLabel';\n\nimport {submitForgot} from '../../../modules/httpQueries';\n\nexport const ForgotPopup = ({state, setState, setPopupState}) => {\n\tconst [email, setEmail] = useState('');\n\n\treturn (\n\t\t<Popup setPopupState={setPopupState}>\n\t\t\t<form id='forgotPasswordForm' onSubmit={event => submitForgot(event, setPopupState, email)}>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='email'\n\t\t\t\t\tname='email' \n\t\t\t\t\tlabel='Email'\n\t\t\t\t\tstate={email}\n\t\t\t\t\tsetState={setEmail}\n\t\t\t\t/>\n\t\t\t\t<input type='submit' name='submit' value='OK' />\n\t\t\t</form>\n\t\t\t<Link to='#' onClick={() => setPopupState('login')}>\n\t\t\t\tBack\n\t\t\t</Link>\n\t\t</Popup>\n\t);\n};\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {Popup} from '../../../components/Popup';\nimport InputWithLabel from '../../../components/InputWithLabel';\n\nimport {submitResetPassword} from '../../../modules/httpQueries';\n\nexport const ResetPopup = ({state, setState, setPopupState}) => {\n\tconst [password, setPassword] = useState('');\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\n\treturn (\n\t\t<Popup setPopupState={setPopupState}>\n\t\t\t<form id='forgotPasswordForm' onSubmit={event => submitResetPassword(event, setPopupState, password, confirmPassword)}>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password' \n\t\t\t\t\tlabel='Password'\n\t\t\t\t\tstate={password}\n\t\t\t\t\tsetState={setPassword}\n\t\t\t\t/>\n\t\t\t\t<InputWithLabel\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='confirmPassword' \n\t\t\t\t\tlabel='Confirm password'\n\t\t\t\t\tstate={confirmPassword}\n\t\t\t\t\tsetState={setConfirmPassword}\n\t\t\t\t/>\n\t\t\t\t<input type='submit' name='submit' value='OK' />\n\t\t\t</form>\n\t\t\t<Link to='#' onClick={() => setPopupState('login')}>\n\t\t\t\tBack\n\t\t\t</Link>\n\t\t</Popup>\n\t);\n};\n","import React from 'react';\n\nimport {generateImageUrl, fallbackImageUrl} from '../modules/httpQueries';\n\nconst ProfileImage = ({filename, style}) => \n\t<img alt='User' src={generateImageUrl(filename)} onError={event => fallbackImageUrl(event)} style={style ? style : {}} />\n;\n\nexport default ProfileImage;\n","import React, {useState, useEffect} from 'react';\nimport {Button} from 'react-bootstrap';\n\nimport { getThisPage } from '../../../modules/httpQueries';\nimport ProfileImage from '../../../components/ProfileImage';\nimport {CollapsedNotificationCount} from '../Header';\n\nconst NotificationCard = ({notification}) => {\n\tconst style = {\n\t\tbackgroundColor: 'lightgrey',\n\t\tpadding: '0.5em',\n\t\tborderRadius: '1em',\n\t\tmarginTop: '4px',\n\t\tmarginBottom: '4px'\n\t};\n\n\tlet notifiStr = '';\n\tif (notification.reason === 'visit')\n\t\tnotifiStr = 'visited your profile!';\n\telse if (notification.reason === 'like')\n\t\tnotifiStr = 'liked your profile!'\n\telse if (notification.reason === 'unlike')\n\t\tnotifiStr = 'unliked you! :('\n\telse if (notification.reason === 'msg')\n\t\tnotifiStr = 'sent you a message!';\n\telse if (notification.reason === 'match')\n\t\tnotifiStr = 'matched with you!';\n\n\treturn (\n\t\t<div style={{...style, backgroundColor: notification.read ? 'lightgrey' : 'lightblue'}}>\n\t\t\t<ProfileImage filename={notification.filename} style={{height: '50px', marginRight: '0.5em'}} />\n\t\t\t<strong>{notification.username}</strong> {notifiStr}\n\t\t</div>\n\t);\n}\n\nconst notificationsWindowStyle = {\n\tdisplay: 'flex',\n\tbackgroundColor: 'slategrey',\n\tflexFlow: 'column-reverse nowrap',\n\tpadding: '0.5em',\n\tborderRadius: '1em',\n};\n\nconst notificationWindowContainerStyle = {\n\tmaxHeight: '300px',\n\tflexFlow: 'column nowrap',\n\toverflow: 'auto',\n\tzIndex: 9,\n\tposition: 'absolute'\n}\n\nconst Notifications = ({unreadNotificationsCount, setUnreadNotificationsCount}) => {\n\tconst [notificationsDisplay, setNotificationsDisplay] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\tconst [longPollState, setLongPollState] = useState(false);\n\n\tconst getNotifications = (markRead = false) => {\n\t\tconst baseUrl = '/myProfile/notifications';\n\t\tconst url = baseUrl + (markRead ? '?read=1' : '');\n\t\tgetThisPage(url)\n\t\t\t.then(results => {\n\t\t\t\tif (results)\n\t\t\t\t\tsetNotifications(results);\n\t\t\t});\n\t}\n\n\t// const getNotificationsViaLongPolling = () => {\n\t// \tgetThisPage('/myProfile/longNotifications')\n\t// \t\t.then(results => {\n\t// \t\t\tif (results) {\n\t// \t\t\t\tsetNotifications(notifications.concat(results));\n\t// \t\t\t}\n\t// \t\t\t//getNotificationsViaLongPolling(notifications);\n\t// \t\t});\n\t// };\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => getNotifications(false), 1000);\n\t\t// This alone would work for getting notifications with short polling\n\t\t//setInterval(() => getNotifications(false), 5000);\n\t}, []);\n\n\n\tuseEffect(() => {\n\t\t//getNotificationsViaLongPolling();\n\t\tgetThisPage('/myProfile/longNotifications')\n\t\t\t.then(results => {\n\t\t\t\tif (results) {\n\t\t\t\t\tsetNotifications(notifications => [...notifications, ...results]);\n\t\t\t\t}\n\t\t\t\t//getNotificationsViaLongPolling(notifications);\n\t\t\t\tsetLongPollState(!longPollState);\n\t\t\t});\n\t}, [longPollState]);\n\n\tconst displayNotifications = (setNotificationsDisplay, notificationsDisplay) => {\n\t\tgetNotifications(!notificationsDisplay);\n\t\tsetNotificationsDisplay(!notificationsDisplay);\n\t};\n\n\tconst notificationCards = !notifications.length ?\n\t<p>Empty!</p> :\n\tnotifications.map(item => <NotificationCard notification={item} key={item.id} new={!item.read} />);\n\tconst unreadCount = notifications.filter(i => !i.read).length;\n\tsetTimeout(() => setUnreadNotificationsCount(unreadCount), 100);\n\n\treturn (\n\t\t<>\n\t\t\t<Button size='sm' style={{position: 'relative'}} variant='secondary' onClick={() => displayNotifications(setNotificationsDisplay, notificationsDisplay)}>Notifications\n\t\t\t\t{unreadCount ? <CollapsedNotificationCount count={unreadCount} right='-3' /> : ''}\n\t\t\t</Button>\n\t\t\t{/* An outer container is required to get the scroll direction right */}\n\t\t\t<div style={{...notificationWindowContainerStyle, display: notificationsDisplay ? 'flex' : 'none' }}>\n\t\t\t\t<div style={notificationsWindowStyle}>\n\t\t\t\t\t{notificationCards}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* <div>{notifications.map(item=> {\n\t\t\t\tif (!item.read)\n\t\t\t\t\treturn <NotificationCard notification={item} new={!item.read} />;\n\t\t\t\telse\n\t\t\t\t\treturn '';\n\t\t\t})}</div>\n\t\t\t<div>{notifications.length}</div> */}\n\t\t</>\n\t);\n};\n\nexport default Notifications;\n\n// 7.8. muokattu rivi 21 ja 27 notifications.length --> notifications. Ei voinut logata sisaan niiden kanssa.\n// 8.8. muokattu takas, koska nimenomaan ei tuon muokkauksen jalkeen toiminut mun mielesta :)\n","import React from 'react';\nimport {Link, useLocation} from 'react-router-dom';\n\nimport {LoginPopup} from './LoginPopup';\nimport {RegisterPopup} from './RegisterPopup';\nimport {ForgotPopup} from './ForgotPopup';\nimport {ResetPopup} from './ResetPopup';\n\nimport {logOut} from '../../../modules/httpQueries';\nimport Notifications from './Notifications';\n\n/* eslint-disable */\n\nconst Nav = ({state, setState, popupState, setPopupState, unreadNotificationsCount, setUnreadNotificationsCount, socketState,}) => {\n\tconst location = useLocation();\n\tif (!state.loggedIn)\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul className=\"navbar-nav mr-auto\">\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='/'>Home</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t\n\t\t\t\t</ul>\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='#' onClick={() => setPopupState(popupState === 'login' ? false : 'login')}>Log in</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='#' onClick={() => setPopupState(popupState === 'register' ? false : 'register')}>Register</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t{popupState === 'login' ? <LoginPopup state={state} setState={setState} setPopupState={setPopupState} /> : null}\n\t\t\t\t{popupState === 'register' ? <RegisterPopup state={state} setState={setState} setPopupState={setPopupState} /> : null}\n\t\t\t\t{popupState === 'forgotPassword' ? <ForgotPopup state={state} setState={setState} setPopupState={setPopupState} /> : null}\n\t\t\t\t{popupState === 'resetPassword' ? <ResetPopup state={state} setState={setState} setPopupState={setPopupState} /> : null}\n\t\t\t</>\n\t\t);\n\n\telse\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul className=\"navbar-nav mr-auto\">\n\t\t\t\t\t\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='/' style={location.pathname == '/' ? {fontWeight: 'bold'} : {}}>Home</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='/myProfile/profile' style={location.pathname.substr(0,6) == '/myPro' ? {fontWeight: 'bold'} : {}}>Profile</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='/map' style={location.pathname == '/map' ? {fontWeight: 'bold'} : {}}>User Map</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t\n\t\t\t\t</ul>\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t{state.username}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Notifications unreadNotificationsCount={unreadNotificationsCount} setUnreadNotificationsCount={setUnreadNotificationsCount} />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='#' onClick={() => logOut(setState, socketState)}>Log out</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item nav-link\">\n\t\t\t\t\t\t<Link to='#' onClick={() => logOut(setState, socketState, true)}>Log out all instances</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</>\n\t\t);\n};\n\nexport default Nav;\n","import React, {useState} from 'react';\n\nimport Nav from './components/Nav';\n\nexport const CollapsedNotificationCount = ({count, right = '-10'}) => {\n\tconst collapsedNotificationsNotifierStyle = {\n\t\tposition: 'absolute',\n\t\ttop: '-3px',\n\t\tright: right + 'px',\n\t\tbackgroundColor: 'red',\n\t\tcolor: 'cyan',\n\t\tborderRadius: '50%',\n\t\theight: '12px',\n\t\twidth: '12px'\n\t};\n\n\tif (!count)\n\t\treturn '';\n\telse\n\t\treturn <div style={collapsedNotificationsNotifierStyle}></div>;\n};\n\nconst Header = props => {\n\tconst [unreadNotificationsCount, setUnreadNotificationsCount] = useState(0);\n\n\treturn (\n\t\t<nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t<span className=\"navbar-toggler-icon\" style={{position: 'relative'}}>\n\t\t\t\t\t<CollapsedNotificationCount count={unreadNotificationsCount} />\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n    \t\t\t\n\t\t\t\t\t<Nav state={props.state} setState={props.setState}\n\t\t\t\t\tpopupState={props.popupState} setPopupState={props.setPopupState}\n\t\t\t\t\tunreadNotificationsCount={unreadNotificationsCount} setUnreadNotificationsCount={setUnreadNotificationsCount}\n\t\t\t\t\tsocketState={props.socketState}\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Suggestions = ({users, distanceFilter, minAge, maxAge, minCommonTags,\n\tsort, tagSearch}) => {\n\n\tif (!users.length)\n\t\treturn <div>There are currently no suggestions available for you!</div>;\n\n\tconst userCards = users.filter(element => {\n\t\tif (element.props.profile.distance > distanceFilter)\n\t\t\treturn false;\n\t\tif (element.props.profile.age < minAge)\n\t\t\treturn false;\n\t\tif (element.props.profile.age > maxAge)\n\t\t\treturn false;\n\t\tif (element.props.profile.commonTags < minCommonTags)\n\t\t\treturn false;\n\t\t\n\t\t// This filter must be just before the final `return true;`\n\t\t// as it can also return true\n\t\tif (tagSearch.length)\n\t\t\treturn element.props.profile.tags.includes(tagSearch);\n\t\treturn true;\n\t});\n\n\tif (!userCards.length)\n\t\treturn (<div>There are some profiles available for you, but the current filters are too strict!</div>);\n\n\treturn userCards.sort((a, b) => {\n\t\t\treturn (a.props.profile[sort.key] - b.props.profile[sort.key]) * sort.order;\n\t});\n};\n\nexport default Suggestions;\n","import React, {useState} from 'react';\n\nimport Rcslider, {Range} from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nconst Filters = ({distance, setDistance,\n\tminAge, setMinAge, maxAge, setMaxAge,\n\tminCommonTags, setMinCommonTags,\n\tsort, setSort, sortingMethods,\n\ttagSearch, setTagSearch}) => {\n\n\tconst [tagSearchInput, setTagSearchInput] = useState('');\n\tconst [distanceDisplay, setDistanceDisplay] = useState(distance);\n\n\tconst eventHandler = (event, setFunction) => {\n\t\tsetFunction(event.target.value);\n\t};\n\n\tconst rangeEventHandler = (values, setMin, setMax) => {\n\t\tsetMin(values[0]);\n\t\tsetMax(values[1]);\n\t};\n\n\tconst distanceHandler = (value, setDistance) => {\n\t\tsetDistance(value);\n\t\tsetDistanceDisplay(value);\n\t\tif (value === 501) {\n\t\t\tsetDistance(99999);\n\t\t\tsetDistanceDisplay('500+');\n\t\t}\n\t};\n\n\tconst tagEventHandler = (event, setTagSearchInput) => {\n\t\tsetTagSearchInput(event.target.value.replace(/[#+]/g, ''));\n\t};\n\n\tconst sortingMethodOptions = sortingMethods.map((method, index) => {\n\t\treturn (\n\t\t\t<option value={index} key={method.name}>{method.display}</option>\n\t\t);\n\t});\n\n\tconst filterWindow =\n\t{\n\t\tpadding: '15px'\n\t}\n\n\treturn (\n\t\t<div style={filterWindow}>\n\t\t\t<div>\n\t\t\t\t<label htmlFor='sort'>Sort by:</label>\n\t\t\t\t<select className=\"custom-select\" name='sort' value={sort} onChange={event => setSort(event.target.value)}>\n\t\t\t\t\t{sortingMethodOptions}\n\t\t\t\t</select>\n\t\t\t</div><br />\n\t\t\t<label htmlFor='distance'>Maximum distance: {distanceDisplay} km</label>\n\t\t\t<Rcslider\n\t\t\t\tstep={1}\n\t\t\t\tvalue={distance}\n\t\t\t\tmin={0}\n\t\t\t\tmax={501}\n\t\t\t\tonChange={value => distanceHandler(value, setDistance)}\n\t\t\t/> <br />\n\t\t\t{/* <input type='range' name='distance' value={distance} max='9000' onChange={event => eventHandler(event, setDistance)} /> */}\n\n\t\t\t<div>Age range: {minAge} - {maxAge}</div>\n\t\t\t<Range\n\t\t\t\tstep={1}\n\t\t\t\tvalue={[minAge, maxAge]}\n\t\t\t\tmin={16}\n\t\t\t\tmax={99}\n\t\t\t\tonChange={values => rangeEventHandler(values, setMinAge, setMaxAge)}\n\t\t\t/> <br />\n\t\t\t{/* <div>\n\t\t\t\t<label htmlFor='minAge'>Minimum age</label>\n\t\t\t\t<input type='number' name='minAge' value={minAge} min='16' onChange={event => eventHandler(event, setMinAge)} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label htmlFor='minAge'>Maximum age</label>\n\t\t\t\t<input type='number' name='maxAge' value={maxAge} max='99' onChange={event => eventHandler(event, setMaxAge)} />\n\t\t\t</div> */}\n\t\t\t<div>\n\t\t\t\t<label htmlFor='minCommonTags'>Minimum common tags</label>\n\t\t\t\t<select className=\"form-control\" type='number' name='minCommonTags' value={minCommonTags} onChange={event => eventHandler(event, setMinCommonTags)}>\n\t\t\t\t\t<option>0</option>\n\t\t\t\t\t<option>1</option>\n\t\t\t\t\t<option>2</option>\n\t\t\t\t\t<option>3</option>\n\t\t\t\t\t<option>4</option>\n\t\t\t\t\t<option>5</option>\n\t\t\t\t</select>\n\t\t\t</div> <br />\n\t\t\t{/* <div>\n\t\t\t\t<label htmlFor='tagSearch'>Tag search</label>\n\t\t\t\t<input type='text' name='tagSearch' value={tagSearchInput} onChange={event => eventHandler(event, setTagSearchInput)} />\n\t\t\t\t<button onClick={() => setTagSearch(tagSearchInput)}>Search</button>\n\t\t\t\t<button onClick={() => {setTagSearch(''); setTagSearchInput('');}}>Reset</button>\n\t\t\t</div> */}\n\t\t\t\n\t\t\t<label htmlFor='tagSearch'>Tag search</label>\n\t\t\t<div className=\"input-group\">\n\t\n\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"\" aria-label=\"\" aria-describedby=\"basic-addon1\" name='tagSearch' value={'#' + tagSearchInput} onChange={event => tagEventHandler(event, setTagSearchInput)} />\n\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t<button className=\"btn btn-primary\" type=\"button\" onClick={() => setTagSearch(tagSearchInput)}>Search</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t<button className=\"btn btn-danger\" type=\"button\" onClick={() => {setTagSearch(''); setTagSearchInput('');}}>Reset</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Filters;\n","import React from 'react';\n\nimport {generateImageUrl, fallbackImageUrl} from '../../modules/httpQueries';\n\nconst CommonTagsDisplay = ({tag}) => {\n\treturn (\n\t\t<div>#{tag}</div>\n\t);\n};\n\nconst UserCard = ({profile, preview}) => {\n\n\tconst suggestionImage = \n\t{\n\t\tmaxHeight: '100px',\n\t\tborderRadius: '50px',\n\t\tmargin: '10px',\n\t\tborder: '1px solid black'\n\t}\n\n\tconst cardButton =\n\t{\n\t\tbackground: 'lightGray',\n        color: 'inherit',\n        border: 'none',\n        padding: '0',\n        font: 'inherit',\n        cursor: 'pointer',\n\t\toutline: 'inherit',\n\t\tmarginBottom: '10px',\n\t\tmarginTop: '20px',\n\t\twidth: '100%',\n\t\tborderRadius: '20px',\n\t\tboxShadow: '0 0 5px 10px lightGray'\n\t}\n\n\tconst cardInfo = \n\t{\n\t\tjustifyContent: 'center',\n        alignItems: 'center'\n\t}\n\n\tconst commonTagsList = profile.commonTagsList.map((tag, index) => <CommonTagsDisplay key={index} tag={tag} />);\n\n\treturn (\n\t\t<>\n\t\t<button style={cardButton} onClick={() => {preview(profile.id)}}>\n\t\t\t\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t<img alt='User' src={generateImageUrl(profile.filename)} onError={event => fallbackImageUrl(event)} style={suggestionImage} />\n\t\t\t\t\t<h3 key={profile.id} style={{textAlign: 'center'}}>{profile.first_name}, {profile.age}</h3>\n\t\t\t\t\t<h5 style={{textAlign: 'center', color: 'rgb(80,80,80)', fontStyle: 'italic'}}>{profile.username}</h5>\n\t\t\t\t\t{profile.online ? <h6 style={{color: 'green'}}>Online!</h6> : <h6 style={{color: 'red'}}>Offline</h6>}\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-6\" style={cardInfo}>\n\t\t\t\t\t{profile.distance < 1 ? <p style={{color: 'green'}}>Very close to you!</p> : profile.distance < 10 ? <p style={{color: 'yellow'}}>In the same city</p> : <p style={{color: 'red'}}>In another city</p>}\n\t\t\t\t\t<p style={{display: 'inline'}}>Distance: {profile.distance < 1 ? \"less than a \" : Number((profile.distance).toFixed(0))} </p> <p style={{display: 'inline'}}>km</p>\n\t\t\t\t\t{profile.commonTags ? <div>{profile.first_name} is also interested in: {commonTagsList}</div> : <div style={{fontStyle: 'italic', color: 'rgb(100,100,100)'}}>No common interests</div>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</button>\n\t\t<br />\n\t\t</>\n\t);\n};\n\nexport default UserCard;\n","import React, {useEffect, useState} from 'react';\n\nimport {getThisPage, generateImageUrl, submitLike} from '../../modules/httpQueries';\nimport {Popup} from '../../components/Popup';\n\n/* eslint-disable */\nconst ProfilePreview = ({user, stateChange, setStateChange}) => {\n\n    const [previewState, modifyPreviewState] = useState(user);\n\n    var blockFilter = {display: 'block'};\n    if (previewState)\n    {\n        if (previewState.blockStatus == false)\n        {\n            blockFilter = \n            {\n                \n            }\n        }\n        else\n        {\n            blockFilter = \n            {\n                position: 'absolute',\n                margin: '0',\n                padding: '0',\n                backgroundColor: 'rgba(0, 0, 0, 0.3)',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'cover',\n                WebkitFilter: 'blur(4px)',\n                MozFilter: 'blur(4px)',\n                MsFilter: 'blur(4px)',\n                OFilter: 'blur(4px)',\n                filter: 'blur(4px)',\n                Zindex: '13'\n            }\n        }\n    }\n\n    const mainPicStyle = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n        borderRadius: '100px'\n    }\n\n    const smallPicStyle =\n    {\n        maxWidth: '120px',\n        maxHeight: '100px',\n        padding: '20px'\n    }\n\n    // Remove all default stylings from the button, that the image is just a button\n    const imageButton =\n    {\n        background: 'none',\n        color: 'inherit',\n        border: 'none',\n        padding: '0',\n        font: 'inherit',\n        cursor: 'pointer',\n        outline: 'inherit'\n    }\n\n    const popUpImage = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n        Zindex: '23'\n    }\n\n    const [previewImage, modifyPreviewImage] = useState(null);\n    const [imagePopupState, modifyImagePopupState] = useState(false);\n\n    const [rerenderTrick, setRerenderTrick] = useState(false);\n\n    useEffect(() => {\n        if (user)\n        {\n            getThisPage('/profile/'+user.profileData.id)\n                .then(response => {\n                    modifyPreviewState(response);\n                });\n        }\n    }, [user, rerenderTrick]);\n\nif (previewState && previewState.profileData.last_login)\n{\n    var date = previewState.profileData.last_login.split('.')[0].split('T')[0].split('-').reverse().join('.');\n    var time = previewState.profileData.last_login.split('.')[0].split('T')[1].split(':')[0] + ':' + previewState.profileData.last_login.split('.')[0].split('T')[1].split(':')[1];\n}\nelse\n{\n    var date = 'never';\n    var time = '';\n}\n        if (previewState)\n            return (\n                <>\n                <div style={{margin: '20px', justifyContent: 'center', textAlign: 'center', paddingTop: '10px', zIndex: '-1', backgroundColor: 'lightgray', borderRadius: '170px', boxShadow: '0 0 25px 40px lightGray'}}>\n                {previewState && previewState.profileData ?\n                    <>\n                        <h1>{previewState.profileData.first_name}, {previewState.profileData.age}</h1>\n                        <h6>{previewState.profileData.username}</h6>\n                        <h6>{previewState.profileData.online ? 'Online' : 'Last online: ' + ( date + ' ' + time || 'never')}</h6>\n                        <h6 style={{color: 'red'}}>Fame: {previewState.profileData.fame}</h6>\n                        \n                        {previewState ? \n                                previewState.blockStatus === true ? \n                                <h1 style={{position: 'relative', top: '14px', textAlign: 'center', fontWeight: 'bolder', fontSize: '60px', color: 'red'}}>BLOCKED</h1> : \"\"\n                                    \n                                    : ''}\n\n                        <div style={{width: '100%'}}>\n                            <button onClick={() => {modifyPreviewImage(previewState.profileData.filename); modifyImagePopupState(true);}}  style={imageButton}>\n                                <img src={generateImageUrl(previewState.profileData.filename)} style={mainPicStyle}/>\n                            </button>\n                        </div>\n                        {previewState.images.map( (image, index) => \n                            <div key={index} style={{display: 'inline'}}>\n                                {image !== previewState.profileData.filename ?\n                                <button onClick={() => {modifyPreviewImage(image); modifyImagePopupState(true);}} style={imageButton}>\n                                    <img src={generateImageUrl(image)} style={smallPicStyle}/>\n                                </button>\n                                : null}\n                            </div>\n                        )}\n                        <p style={{overflowWrap: 'break-word'}}>{previewState.profileData.biography}</p> <br />\n                        {previewState.profileData.tags_string ?\n                        <>\n                            {previewState.profileData.tags_string.split(',').map((tag, index) => <h5 key={index} style={{display: 'inline', color: 'red', overflowWrap: 'break-word'}}>  #{tag}</h5>)} <br />\n                        </>\n                        : ''}\n                        {previewState && previewState.blockStatus === false ? \n                        <button style={{marginRight: '10px'}} onClick={() => {submitLike('/profile/'+previewState.profileData.id, previewState.likeButton, rerenderTrick, setRerenderTrick); setStateChange(!stateChange);}} className=\"btn btn-success\">{previewState.likeButton}</button>\n                        : ''}\n                        {previewState ? \n                        <button onClick={() => {submitLike('/profile/'+previewState.profileData.id, previewState.blockStatus === true ? \"unblock\" : \"block\", rerenderTrick, setRerenderTrick); setStateChange(!stateChange);}} className=\"btn btn-danger\">{previewState.blockStatus === true ? \"Unblock user\" : \"Block user\"}</button>\n                        : ''} <br />\n                        {previewState ? \n                        <button style={{margin: '9px', height: '70%'}} onClick={() => {if (confirm('Do you really want to report this user?')) {submitLike('/profile/'+previewState.profileData.id, 'report', rerenderTrick, setRerenderTrick); setStateChange(!stateChange);}}} className=\"btn btn-danger btn-sm\" disabled={previewState.reportStatus} > {previewState.reportStatus === false ? \"Report user\" : \"reported\"}</button>\n                        : ''} \n                       \n                    </>\n                : null}\n                {imagePopupState === true ?\n                <Popup setPopupState={modifyImagePopupState}><img src={generateImageUrl(previewImage)} style={popUpImage}/></Popup>\n                : ''}\n                </div>\n            </>\n            );\n        else\n            return (\n                \"\"\n            );\n\n      \n    \n}\n\nexport default ProfilePreview\n","import React, {useState, useEffect} from 'react';\n\nimport Suggestions from './Suggestions';\nimport Filters from './Filters';\nimport {getThisPage, submitConfirmEmailOrResetPassword, parseSearchString, submit42Code, loginResponseHandler} from '../../modules/httpQueries';\nimport UserCard from './UserCard';\nimport ProfilePreview from './ProfilePreview';\nimport {getUser} from '../../modules/userData';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\n\nimport {sortingMethods} from '../../config.json';\n\n/* eslint-disable */\n\nconst Index = ({state, action, setPopupState, setState}) => {\n\tconst userData = getUser();\n\t// Userdata doesn't load instantly, so set a default to prevent errors\n\tconst age = userData.age ? userData.age : 25;\n\n\tconst [users, setUsers] = useState([]);\n\tconst [distanceFilter, setDistanceFilter] = useState(100);\n\tconst [minAge, setMinAge] = useState(age - 3);\n\tconst [maxAge, setMaxAge] = useState(age + 3);\n\tconst [minCommonTags, setMinCommonTags] = useState(0);\n\tconst [sort, setSort] = useState(0);\n\tconst [tagSearch, setTagSearch] = useState('');\n\tconst [previewId, setPreviewId] = useState(null);\n\tconst [previewProfile, setPreviewProfile] = useState(null);\n\tconst [stateChange, setStateChange] = useState(false);\n\n\tif (action === 'resetPassword')\n\t\tsetPopupState('resetPassword');\n\n\tconst generateUserCards = users => {\n\t\tif (!users || !users.length)\n\t\t\treturn '';\n\t\treturn users.map(user => <UserCard key={user.id} profile={user} preview={setPreviewId}/>);\n\t};\n\n\tuseEffect(() => {\n\t\tif (action === 'confirmEmail') {\n\t\t\tconst searchObj = parseSearchString(window.location.search);\n\t\t\tif (!searchObj || !searchObj.user || !searchObj.token)\n\t\t\t\treturn;\n\t\t\tif (submitConfirmEmailOrResetPassword(searchObj, action)) {\n\t\t\t\tsetPopupState('login');\n\t\t\t\twindow.location.href = '/';\n\t\t\t}\n\t\t}\n\t\telse if ((action === 'apiLogin' || action === 'apiRegister') && window.location.search) {\n\t\t\tif (window.location.search.substr(0,6) !== '?code=')\n\t\t\t\twindow.location.href = '/';\n\t\t\tconst req = submit42Code(window.location.search.substr(6), action)\n\t\t\treq.then(data => {\n\t\t\t\tif (data && data.action === 'register') {\n\t\t\t\t\tlocalStorage.setItem('registerPrefill', JSON.stringify(data));\n\t\t\t\t\tsetPopupState('register');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tloginResponseHandler(data, setState, setPopupState);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (!action)\n\t\t\tgetThisPage(window.location.pathname)\n\t\t\t\t.then(response => {\n\t\t\t\t\tresponse = response || [];\n\t\t\t\t\tsetUsers(generateUserCards(response));\n\t\t\t\t});\n\n\t\t\n\n\t\tif (previewId)\n\t\t{\n\t\t\tgetThisPage('/profile/'+previewId)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetPreviewProfile(response);\n\t\t\t\t});\n\t\t}\n\t}, [action, setPopupState, previewId, stateChange]);\n\n\tif (state.loggedIn)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t<div className=\"col-md-6 h-25 order-md-2\" id=\"searchContainer\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<DropdownButton id=\"dropdown-basic-button\" title=\"Filters\">\n\t\t\t\t\t\t\t<Filters\n\t\t\t\t\t\t\t\tdistance={distanceFilter} setDistance={setDistanceFilter}\n\t\t\t\t\t\t\t\tminAge={minAge} setMinAge={setMinAge}\n\t\t\t\t\t\t\t\tmaxAge={maxAge} setMaxAge={setMaxAge}\n\t\t\t\t\t\t\t\tminCommonTags={minCommonTags} setMinCommonTags={setMinCommonTags}\n\t\t\t\t\t\t\t\tsort={sort} setSort={setSort} sortingMethods={sortingMethods}\n\t\t\t\t\t\t\t\ttagSearch={tagSearch} setTagSearch={setTagSearch}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<div style={{marginTop: '10px'}}>\n\n\t\t\t\t\t\t\t<ProfilePreview user={previewProfile} stateChange={stateChange} setStateChange={setStateChange} />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"col-md-6 h-25 order-md-1\" id=\"suggestionContainer\">\n\n\t\t\t\t\t\t<div className=\"container\" style={{overflowY: 'auto', maxHeight: '700px'}}>\n\t\t\t\t\t\t\t<Suggestions\n\t\t\t\t\t\t\t\tusers={users} distanceFilter={distanceFilter}\n\t\t\t\t\t\t\t\tminAge={minAge} maxAge={maxAge}\n\t\t\t\t\t\t\t\tminCommonTags={minCommonTags}\n\t\t\t\t\t\t\t\tsort={sortingMethods[sort]}\n\t\t\t\t\t\t\t\ttagSearch={tagSearch}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\n\telse\n\t\treturn(\n\t\t\t<div>Log in</div>\n\t\t);\n};\n\nexport default Index;\n","import React from 'react';\n\nimport {Link} from 'react-router-dom';\n\n\nconst ProfileNav = () => {\t\n\n    return (\n        <nav className=\"navbar navbar-expand navbar-light bg-light\">\n\t\t\t<div className=\"navbar-nav\">\n                <div className=\"navbar-nav\">\n                    <Link className=\"nav-item nav-link\" to='/myProfile/profile'>Profile</Link>\n                    <Link className=\"nav-item nav-link\" to='/myProfile/likes'>Likes</Link>\n                    <Link className=\"nav-item nav-link\" to='/myProfile/visits'>Visits</Link>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\n\nexport default ProfileNav;\n","import React from 'react';\n\nconst RadioWithLabel = ({\n\tname, state, setState, options, required\n}) => {\n\tconst eventHandler = event => {\n\t\tsetState(event.target.value);\n\t};\n\n\treturn options.map(option => {\n\t\tif (!option.checked)\n\t\t\toption.checked = (state, value) => state === option.value;\n\t\treturn (\n\t\t<span key={option.value + option.label}>\n\t\t\t<div className=\"custom-control custom-radio\" style={{display: 'inline'}}>\n\t\t\t\t<input type='radio' name={name} value={option.value} checked={option.checked(state, option.value)} onChange={event => eventHandler(event)} required={required} />\n\t\t\t\t<label htmlFor={option.value} style={{paddingLeft: '0.2em'}}>{option.label}</label>\n\t\t\t</div>\n\t\t</span>\n\t\t)\n\t});\n};\n\nexport default RadioWithLabel;\n","import React, {useState} from 'react';\nimport {Button} from 'react-bootstrap';\n\nconst SingleTag = ({tag, index, tagRemoval}) => {\n\treturn (\n\t\t<div style={{display: 'block', marginRight: '0.5em', marginLeft: '0.5em'}}>\n\t\t\t<Button style={{backgroundColor: index % 2 ? 'gainsboro' : 'darkgray', color: 'black', borderColor: index % 2 ? 'darkgray' : 'gainsboro'}}>#{tag}</Button>\n\t\t\t<Button variant=\"danger\" id={'tagRemovalId' + index} onClick={event => tagRemoval(event)}>X</Button> \n\t\t</div>\n\t);\n};\n\n\nconst TagsInput = ({tags, setTags}) => {\n\tconst [newTag, setNewTag] = useState('');\n\n\tconst tagRemoval = event => {\n\t\tsetTags(tags.filter((tag, index) => (event.target.id !== 'tagRemovalId' + index)));\n\t};\n\n\tconst singleTags = tags.map((tag, index) =>\n\t\t<SingleTag tag={tag} index={index} tagRemoval={tagRemoval} key={tag + index} />\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<div style={{display: 'flex', flexFlow: 'row wrap'}}>\n\t\t\t\t{singleTags}\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<div className=\"input-group\" style={{marginTop: '0.5em'}}>\n  \t\t\t\t<span style={{position: 'relative', left: '20px'}}>#</span>\n\t\t\t\t<input pattern=\".{1,200}\" type=\"text\" className=\"form-control\" placeholder=\"\" aria-label=\"\" aria-describedby=\"basic-addon1\" value={'#' + newTag} onChange={event => setNewTag(event.target.value.replace(/[#+]/g, ''))} />\n\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t<button className=\"btn btn-success\" type=\"button\" onClick={() => {if (newTag.length > 1 && newTag.length < 200) {setTags([...tags, newTag]); setNewTag('');}}}>Add!</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br />\n\t\t</>\n\t);\n};\n\nexport default TagsInput;\n","import React, { useEffect, useState } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport {apiKey} from '../../apiKey.json';\n\nconst containerStyle = {\n\twidth: '100%',\n\theight: '400px'\n};\n\nconst MyProfileMap = ({lat, lon, setLat, setLon}) => {\n\tconst [mapCentre, setMapCentre] = useState({lat: 0, lng: 0});\n\n\t/* eslint-disable react-hooks/exhaustive-deps */\n\tuseEffect(() => {\n\t\tsetMapCentre({lat: parseFloat(lat), lng: parseFloat(lon)});\n\t}, [lat, lon]);\n\n\tconst dragEndHandler = (event) => {\n\t\tsetLat(event.latLng.lat());\n\t\tsetLon(event.latLng.lng());\n\t};\n\n\treturn (\n\t\t<LoadScript\n\t\t\tgoogleMapsApiKey={apiKey}\n\t\t>\n\t\t\t<GoogleMap\n\t\t\t\tmapContainerStyle={containerStyle}\n\t\t\t\tcenter={mapCentre}\n\t\t\t\tzoom={6}\n\t\t\t>\n\t\t\t\t<Marker\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tposition={mapCentre}\n\t\t\t\t\tonDragEnd={event => dragEndHandler(event)}\n\t\t\t\t/>\n\t\t\t</GoogleMap>\n\t\t</LoadScript>\n\t)\n};\n\nexport default MyProfileMap;\n","import React from 'react';\n\nimport InputWithLabel from '../../components/InputWithLabel';\nimport RadioWithLabel from '../../components/RadioWithLabel';\nimport TagsInput from './TagsInput';\nimport MyProfileMap from './MyProfileMap';\n\nimport {sendMyProfileData} from '../../modules/httpQueries';\n\nconst MyProfileInfo = ({rerenderTrick, setRerenderTrick, firstName, setFirstName, lastName, setLastName, age, setAge, latitude, setLatitude, longitude, setLongitude, email, setEmail, gender, setGender, target, setTarget, biography, setBiography, tags, setTags, myProfileSaveStatus, setMyProfileSaveStatus}) => {\n    return (\n        <>\n        <h2>Your information</h2>\n        <form id='myProfileForm' onSubmit={(event) => sendMyProfileData(event, firstName, lastName, age, latitude, longitude, email, gender, target, biography, tags, rerenderTrick, setRerenderTrick, setMyProfileSaveStatus)}>        \n        <InputWithLabel\n            type='text'\n            name='firstName'\n            label='First name'\n            state={firstName}\n            setState={setFirstName}\n            pattern=\"[\\p{L}\\-']{2,32}\"\n            required={true}\n        />\n        <InputWithLabel\n            type='text'\n            name='lastName'\n            label='Last name'\n            state={lastName}\n            setState={setLastName}\n            pattern=\"[\\p{L}\\-']{2,32}\"\n            required={true}\n        />\n        <InputWithLabel\n            type='email'\n            name='email'\n            label='Email'\n            state={email}\n            setState={setEmail}\n            required={true}\n        />\n        <InputWithLabel\n            type='text'\n            name='age'\n            label='Age'\n            state={age}\n            setState={setAge}\n            required={true}\n            pattern=\"(1[6-9])|([2-9][0-9])\"\n        />\n        <div>Location</div>\n        <MyProfileMap\n            lat={latitude} lon={longitude}\n            setLat={setLatitude} setLon={setLongitude}\n        />\n        <div>Gender</div>\n        <RadioWithLabel\n            name='gender'\n            state={gender}\n            setState={setGender}\n            options={[\n                {label: 'Man', value: 'm'},\n                {label: 'Woman', value: 'f'}\n            ]}\n            required={true}\n        />  <br />\n        <div>Looking for</div>\n        <RadioWithLabel\n            name='target'\n            state={target}\n            setState={setTarget}\n            options={[\n                {label: 'Men', value: 'm'},\n                {label: 'Both', value: 'fm', checked: (target, value) => target.length === 2},\n                {label: 'Women', value: 'f'}\n            ]}\n            required={true}\n        /> <br />\n        <InputWithLabel\n            type='textarea'\n            name='biography'\n            label='Biography'\n            state={biography}\n            setState={setBiography}\n            required={true}\n        />\n\n        <div>Tags</div>\n\n        <TagsInput tags={tags} setTags={setTags} />\n        \n        {myProfileSaveStatus.length === 2 ?\n            <div className='alert alert-success'>{myProfileSaveStatus}</div> :\n            myProfileSaveStatus.length ?\n                <div className='alert alert-danger'>{myProfileSaveStatus}</div> :\n                ''\n        }\n\n        <input className='button btn btn-primary' type='submit' name='submit' value='Save' style={{marginLeft: '50%', marginRight: '50%', marginBottom: '1em'}} />\n        </form>\n        </>);\n}\n\nexport default MyProfileInfo;\n","import React from 'react';\nimport {Button, Row, Container} from 'react-bootstrap';\n\nimport {generateImageUrl, photoActions} from '../../modules/httpQueries';\n\nconst MyProfileImage = ({photo, previewImage, popupState, main_pic, rerenderTrick, setRerenderTrick}) => {\n\tlet disabled = false;\n\tlet photoStyle = {maxWidth: '300px', maxHeight: '300px'};\n\n\tif (photo.id === main_pic) {\n\t\tdisabled = true;\n\t\tphotoStyle = {...photoStyle,\n\t\t\tboxShadow: '0 0 20px 10px lightsteelblue',\n\t\t\tmarginBottom: '10px',\n\t\t\tmarginTop: '10px'\n\t\t}\n\t}\n\n\treturn (\n\t<Container>\n\t\t<Row className=\"justify-content-center\" style={{marginBottom: '10px'}}>\n\t\t\t\n            \t<div onClick={() => {previewImage(photo.id); popupState(true);}}><img alt='Your upload' src={generateImageUrl(photo.id, photo.extension)} style={photoStyle}/></div>\n\t\t\t\n\t\t</Row>\n\t\t<Row className=\"justify-content-center\" style={{marginBottom: '30px'}}>\n\t\t\t\t<Button className=\"btn\" disabled={disabled} onClick={() => photoActions('primary', photo.id, rerenderTrick, setRerenderTrick)} style={{marginRight: '15px'}}>Make photo primary</Button>\n\t\t\t\t<Button className=\"btn btn-danger\" disabled={disabled} onClick={() => photoActions('delete', photo.id, rerenderTrick, setRerenderTrick)}>Delete photo</Button>\n\t\t</Row>\n    </Container>\n\t);\n}\n\nexport default MyProfileImage;\n","import React, {useState} from 'react';\n\nimport MyProfileImage from './MyProfileImage';\nimport {Popup} from '../../components/Popup';\nimport {uploadPhoto} from '../../modules/httpQueries';\nimport {generateImageUrl} from '../../modules/httpQueries';\n\nconst MyProfileImages = ({profile, rerenderTrick, setRerenderTrick}) => {\t\n    const [previewImage, modifyPreviewImage] = useState(null);\n    const [imagePopupState, modifyImagePopupState] = useState(false);\n\n    const popUpImage = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n    }\n\n    const uploadPhotos = (event, rerenderTrick, setRerenderTrick) => {\n        const element = event.target;\n        // Array.prototype.forEach.call(element.files, file => {\n        //     if (file.type.startsWith('image/') && file.size < 5000000) {\n        //         const res = uploadPhoto(file);\n        //     }\n        //     else\n        //         alert('File ' + file.name + ' is not an image or is too large.');\n        // })\n                const res = uploadPhoto(element.files);\n                res.then(r => setRerenderTrick(!rerenderTrick));\n                \n                // MITEN RES:sta SAADAAN PROMISE VALUE ULOS?\n                //window.location.reload(false);\n    }\n\n    /* eslint-disable eqeqeq */\n    const uploadedImages = profile.images.length ?\n        profile.images.map(photo => <MyProfileImage photo={photo} key={photo.id} previewImage={modifyPreviewImage} popupState={modifyImagePopupState} main_pic={profile.userData.main_pic} rerenderTrick={rerenderTrick} setRerenderTrick={setRerenderTrick} />)\n            .sort((a, b) => {\n                if (a.key == a.props.main_pic || b.key == b.props.main_pic)\n                    return (b.key == b.props.main_pic) - (a.key == a.props.main_pic);\n                else\n                    return a.key - b.key;\n            }) :\n        <p>You haven't uploaded any images!</p>;\n\n    return (\n        <>\n        <h1>Your photos</h1>\n        <div className=\"custom-file\">\n            <input type='file' name='photoUpload' className=\"form-control-file\" id=\"exampleFormControlFile1\" onChange={event => uploadPhotos(event, rerenderTrick, setRerenderTrick)} multiple accept=\"image/*\" />\n            <label className=\"custom-file-label\" htmlFor=\"exampleFormControlFile1\" data-browse=\"Upload\">Upload photos</label>\n        </div>\n        <h2>Uploaded photos ({profile.images.length}/5)</h2>\n        {uploadedImages}\n        {imagePopupState === true ?\n            <Popup setPopupState={modifyImagePopupState}><img src={generateImageUrl(previewImage, 'png')} style={popUpImage} alt='Enlarged profile' /></Popup>\n        : ''}\n\n        </>\n        );\n}\n\nexport default MyProfileImages;\n","import React, {useEffect, useState} from 'react';\nimport ProfileNav from './ProfileNav';\nimport MyProfileInfo from './MyProfileInfo';\nimport MyProfileImages from './MyProfileImages';\n\nimport {getThisPage} from '../../modules/httpQueries';\n\n\n\nconst MyProfile = ({state, setState}) => {\t\n    const [rerenderTrick, setRerenderTrick] = useState(false);\n\tconst [profileState, setProfileState] = useState(null);\n\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [age, setAge] = useState(16);\n    const [latitude, setLatitude] = useState(0);\n    const [longitude, setLongitude] = useState(0);\n    const [email, setEmail] = useState('');\n    const [gender, setGender] = useState('f');\n    const [target, setTarget] = useState('fm');\n    const [biography, setBiography] = useState('');\n\tconst [tags, setTags] = useState([]);\n\tconst [myProfileSaveStatus, setMyProfileSaveStatus] = useState('');\n\t\n\tuseEffect(() => {\n\t\tgetThisPage(window.location.pathname)\n\t\t\t.then(response => {\n\t\t\t\tsetProfileState(response);\n\t\t\t\tsetFirstName(response.userData.first_name); setLastName(response.userData.last_name); setAge(response.userData.age || 'Unknown');\n\t\t\t\tsetLatitude(response.userData.latitude); setLongitude(response.userData.longitude); setEmail(response.userData.email);\n\t\t\t\tsetGender(response.userData.gender); setTarget(response.userData.target_genders); setBiography(response.userData.biography);\n\t\t\t\tsetTags(response.tags);\n\t\t\t});\n\t}, [rerenderTrick]);\n\n\tif (profileState)\n\t\treturn (<>\n\t\t<ProfileNav />\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t<MyProfileInfo rerenderTrick={rerenderTrick} setRerenderTrick={setRerenderTrick}\n\t\t\t\t\tage={age} setAge={setAge} firstName={firstName} setFirstName={setFirstName} lastName={lastName} setLastName={setLastName}\n\t\t\t\t\tlatitude={latitude} setLatitude={setLatitude} longitude={longitude} setLongitude={setLongitude} email={email} setEmail={setEmail}\n\t\t\t\t\tgender={gender} setGender={setGender} target={target} setTarget={setTarget} biography={biography} setBiography={setBiography}\n\t\t\t\t\ttags={tags} setTags={setTags} myProfileSaveStatus={myProfileSaveStatus} setMyProfileSaveStatus={setMyProfileSaveStatus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t<MyProfileImages profile={profileState} rerenderTrick={rerenderTrick} setRerenderTrick={setRerenderTrick} />\n\t\t\t</div>\n\t\t</div>\t\t\t\n\t\t</>);\n\n\telse\n\t\treturn (\n\t\t\t<>\n\t\t\t<ProfileNav />\n\t\t\t<h1>My profile</h1>\n\t\t\t</>\n\t\t);\n};\n\nexport default MyProfile;\n","import React from 'react';\nimport {getThisPage, generateImageUrl} from '../../modules/httpQueries';\n\n// Databasen 'likes' tableen lisattava id columni, jotta key helpompi saada uniikiksi.\n\n// USERS I HAVE LIKED\n\n/* eslint-disable */\n\nconst MyLikesLikes = ({likes, modifyPreview, modifyWho, rerenderTrick}) => {\n\n    const smallPic = \n    {\n        height: '30px'\n    }\n\n    function changePreview(profile)\n    {\n        if (profile.likee)\n        {\n        getThisPage('/profile/' + profile.likee)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('myProfiles/likes response:');\n\t\t\t\t//console.log(response);\n                modifyPreview(response);\n            });\n        }\n        else\n        {\n            getThisPage('/profile/' + profile.visitee)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('myProfiles/likes response:');\n\t\t\t\t//console.log(response);\n                modifyPreview(response);\n            });\n        }\n    }\n\n\n    if (!likes)\n    {\n        return(<h1>Loading</h1>);\n    }\n    else\n    {\n        return ( \n            likes.map( (like, index) =>\n            <div key={index}>\n                <button className=\"btn btn-success\" onClick={() => {changePreview(like); modifyPreview(like); modifyWho(1);}} style={{width: '80%', marginRight: '50px', marginBottom: '20px'}}>\n                    {like.visiteePic ? <img src={generateImageUrl(like.visiteePhoto)} style={smallPic} /> : <img src={generateImageUrl(like.likeePhoto)} style={smallPic} /> }\n                    <b>  {like.likeeUsername ? like.likeeUsername : like.visiteeUsername}</b>\n                </button>\n                <br />\n            </div>)\n        ) \n    }\n}\n\nexport default MyLikesLikes;\n","import React from 'react';\nimport {getThisPage, generateImageUrl} from '../../modules/httpQueries';\n\n// Databasen 'likes' tableen lisattava id columni, jotta key helpompi saada uniikiksi.\n\n// USERS THAT HAVE LIKED ME\n\n/* eslint-disable */\n\nconst MyLikesLikee = ({likes, modifyPreview, modifyWho}) => {\n\n    const smallPic = \n    {\n        height: '30px'\n    }\n    function changePreview(profile)\n    {\n        if (profile.liker)\n        {\n        getThisPage('/profile/' + profile.liker)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('myProfiles/likes response:');\n\t\t\t\t//console.log(response);\n                modifyPreview(response);\n            });\n        }\n        else\n        {\n            getThisPage('/profile/' + profile.visitor)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('myProfiles/likes response:');\n\t\t\t\t//console.log(response);\n                modifyPreview(response);\n            });\n        }\n    }\n\n    if (!likes)\n    {\n        return(<h1>Loading</h1>);\n    }\n    else\n    {\n        \n        return (\n        likes.map( (like, index) =>\n        <div key={index}>\n            <>\n                <button className=\"btn btn-success\" onClick={() => {changePreview(like); modifyPreview(like); modifyWho(2);}} style={{width: '80%', marginRight: '50px', marginBottom: '20px'}}>\n                {like.visitorPic ? <img src={generateImageUrl(like.visitorPhoto)} style={smallPic} /> : <img src={generateImageUrl(like.likerPhoto)} style={smallPic} /> }\n                    <b>  {like.likerUsername ? like.likerUsername : like.visitorUsername}</b>\n                </button>\n                <br />\n            </>\n        </div>))\n    }\n}\n\nexport default MyLikesLikee;\n\n// return ( \n//     likes.map( (like) =>\n//     <>\n//         <button className=\"btn btn-success\" onClick={() => {changePreview(like); modifyPreview(like); modifyWho(1);}} style={{width: '80%', marginRight: '50px', marginBottom: '20px'}}>\n//             <b>{like.likeeUsername ? like.likeeUsername : like.visiteeUsername}</b>\n//             {like.likeePic}\n//         </button>\n//         <br />\n//     </>)\n// ) \n","import React, {useEffect, useState} from 'react';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport ProfileNav from './ProfileNav';\nimport Likes from './MyLikesLikes';\nimport Likee from './MyLikesLikee';\nimport ProfilePreview from '../Index/ProfilePreview';\nimport {Popup} from '../../components/Popup';\n\nimport {getThisPage, generateImageUrl} from '../../modules/httpQueries';\n\n/* eslint-disable */\n\nconst MyLikes = ({state, setState}) => {\n\n    const [likesState, setLikesState] = useState(null);\n    const [previewState, modifyPreviewState] = useState(null);\n    const [previewLikedWhoState, modifyPreviewLikedWhoState] = useState(null);\n    const [previewImage, modifyPreviewImage] = useState(null);\n    const [imagePopupState, modifyImagePopupState] = useState(false);\n    const [rerenderTrick, setRerenderTrick] = useState(false);\n\n    var blockFilter = {display: 'block'};\n    if (previewState)\n    {\n        if (previewState.blockStatus == false)\n        {\n            blockFilter = \n            {\n                \n            }\n        }\n        else\n        {\n            blockFilter = \n            {\n                position: 'absolute',\n                margin: '0',\n                padding: '0',\n                backgroundColor: 'rgba(0, 0, 0, 0.3)',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'cover',\n                WebkitFilter: 'blur(4px)',\n                MozFilter: 'blur(4px)',\n                MsFilter: 'blur(4px)',\n                OFilter: 'blur(4px)',\n                filter: 'blur(4px)',\n                Zindex: '13'\n            }\n        }\n    }\n\n    const mainPicStyle = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n        borderRadius: '100px'\n    }\n\n    const smallPicStyle =\n    {\n        maxWidth: '120px',\n        maxHeight: '100px',\n        padding: '20px'\n    }\n\n    // Remove all default stylings from the button, that the image is just a button\n    const imageButton =\n    {\n        background: 'none',\n        color: 'inherit',\n        border: 'none',\n        padding: '0',\n        font: 'inherit',\n        cursor: 'pointer',\n        outline: 'inherit'\n    }\n\n    const popUpImage = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n    }\n\n\tuseEffect(() => {\n\t\tgetThisPage(window.location.pathname)\n\t\t\t.then(response => {\n\t\t\t\t//console.log('myProfiles/likes response:');\n                setLikesState(response);\n            });\n        if (previewState)\n        {\n            getThisPage('/profile/'+previewState.profileData.id)\n                .then(response => {\n                    modifyPreviewState(response);\n                });\n        }\n    }, [rerenderTrick]);\n\n    //console.log(\"imagepreview\" + previewImage);\n    if (likesState)\n    \n\t\treturn (\n            \n        <>  \n        \n            <ProfileNav />\n                <h1>Likes</h1>\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\" className=\"w-80\" style={{margin: '20px'}}>\n                            <Tab eventKey=\"home\" title=\"Users you have liked\" className=\"w-80\" style={{margin: '20px', maxHeight: '800px', overflowY: 'auto'}}>\n                                <Likes likes={likesState.liked} modifyPreview={modifyPreviewState} modifyWho={modifyPreviewLikedWhoState} render={rerenderTrick}/>\n                            </Tab>\n                            <Tab eventKey=\"profile\" title=\"Users that have liked you\" className=\"w-80\" style={{margin: '20px', maxHeight: '800px', overflowY: 'auto'}}>\n                                <Likee likes={likesState.likedMe} modifyPreview={modifyPreviewState} modifyWho={modifyPreviewLikedWhoState}/>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                <div className=\"col-sm-5\" style={{margin: '20px', justifyContent: 'center', textAlign: 'center', paddingTop: '10px'}}>\n\n                        {previewState && previewState.profileData ?\n                            <ProfilePreview user={previewState} stateChange={rerenderTrick} setStateChange={setRerenderTrick} />\n                                : ''}\n                          \n                        {imagePopupState === true ?\n                            <Popup setPopupState={modifyImagePopupState}><img src={generateImageUrl(previewImage)} style={popUpImage}/></Popup>\n                                : ''}\n                \n                </div>\n            </div>\n            <br />\n            <br />\n        </>\n        );\n\n\telse\n\t\treturn (\n        <>\n            <ProfileNav />\n\t\t\t<h1>Profile empty or loading</h1>\n            <h1>Serverille 'myProfile/likes'</h1>\n        </>\n        );\n};\n\nexport default MyLikes;\n","import React, {useEffect, useState} from 'react';\n\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\n\nimport ProfileNav from './ProfileNav';\nimport ProfilePreview from '../Index/ProfilePreview';\nimport {getThisPage, generateImageUrl} from '../../modules/httpQueries';\nimport Likes from './MyLikesLikes';\nimport Likee from './MyLikesLikee';\nimport {Popup} from '../../components/Popup';\n\n/* eslint-disable */\n\nconst MyVisits = ({state, setState}) => {\n\n    const [visitsState, setVisitsState] = useState(null);\n    const [previewState, modifyPreviewState] = useState(null);\n    const [previewLikedWhoState, modifyPreviewLikedWhoState] = useState(null);\n    const [previewImage, modifyPreviewImage] = useState(null);\n    const [imagePopupState, modifyImagePopupState] = useState(false);\n    const [rerenderTrick, setRerenderTrick] = useState(false);\n\n    var blockFilter = {display: 'block'};\n    if (previewState)\n    {\n        if (previewState.blockStatus == false)\n        {\n            blockFilter = \n            {\n                \n            }\n        }\n        else\n        {\n            blockFilter = \n            {\n                position: 'absolute',\n                margin: '0',\n                padding: '0',\n                backgroundColor: 'rgba(0, 0, 0, 0.3)',\n                justifyContent: 'center',\n                alignItems: 'center',\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'cover',\n                WebkitFilter: 'blur(4px)',\n                MozFilter: 'blur(4px)',\n                MsFilter: 'blur(4px)',\n                OFilter: 'blur(4px)',\n                filter: 'blur(4px)',\n                Zindex: '13'\n            }\n        }\n    }\n\n    const mainPicStyle = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n        borderRadius: '100px'\n    }\n\n    const smallPicStyle =\n    {\n        maxWidth: '120px',\n        maxHeight: '100px',\n        padding: '20px'\n    }\n\n    // Remove all default stylings from the button, that the image is just a button\n    const imageButton =\n    {\n        background: 'none',\n        color: 'inherit',\n        border: 'none',\n        padding: '0',\n        font: 'inherit',\n        cursor: 'pointer',\n        outline: 'inherit'\n    }\n\n    const popUpImage = \n    {\n        maxWidth: '100%',\n        maxHeight: '100%',\n    }\n\n\tuseEffect(() => {\n\t\tgetThisPage(window.location.pathname)\n\t\t\t.then(response => {\n\t\t\t\tsetVisitsState(response);\n            });\n            if (previewState)\n            {\n                getThisPage('/profile/'+previewState.profileData.id)\n                    .then(response => {\n                        modifyPreviewState(response);\n                    });\n            }\n\n\t}, [rerenderTrick]);\n\n\tif (visitsState)\n\t\treturn (\n        <>  \n            <ProfileNav />\n                <h1>Visits</h1>\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\" className=\"w-80\" style={{margin: '20px'}}>\n                            <Tab eventKey=\"home\" title=\"Users you have visited\" className=\"w-80\" style={{margin: '20px', maxHeight: '800px', overflowY: 'auto'}}>\n\t\t\t\t\t\t\t\t<Likes likes={visitsState.visited} modifyPreview={modifyPreviewState} modifyWho={modifyPreviewLikedWhoState}/>\n                            </Tab>\n                            <Tab eventKey=\"profile\" title=\"Users that have visited you\" className=\"w-80\" style={{margin: '20px', maxHeight: '800px', overflowY: 'auto'}}>\n\t\t\t\t\t\t\t\t<Likee likes={visitsState.visitedMe} modifyPreview={modifyPreviewState} modifyWho={modifyPreviewLikedWhoState}/>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                <div className=\"col-sm-5\" style={{margin: '20px', justifyContent: 'center', textAlign: 'center'}}>\n\n                {previewState && previewState.profileData ?\n                    <ProfilePreview user={previewState} stateChange={rerenderTrick} setStateChange={setRerenderTrick} />\n                        : ''}\n \n                {imagePopupState === true ?\n                    <Popup setPopupState={modifyImagePopupState}><img src={generateImageUrl(previewImage)} style={popUpImage}/></Popup>\n                        : ''}\n                  \n                </div>\n            </div>\n            <br />\n            <br />\n        </>\n        );\n\n\telse\n\t\treturn (\n        <>\n            <ProfileNav />\n\t\t\t<h1>Profile empty or loading</h1>\n            <h1>Serverille 'myProfile/likes'</h1>\n        </>\n        );\n};\n\nexport default MyVisits;","import React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { getThisPage } from '../../modules/httpQueries';\nimport {apiKey} from '../../apiKey.json';\n\nconst coordinateRandomiser = coord => {\n\tconst randomComponent = (Math.random() - 0.5) * 0.05;\n\treturn coord + randomComponent;\n}\n\nconst GeneratedMarker = ({lat, lon}) => {\n\tconst randomisedLat = coordinateRandomiser(lat);\n\tconst randomisedLon = coordinateRandomiser(lon);\n\tconst latMagnitude = Math.abs(randomisedLat);\n\tconst lonMagnitude = Math.abs(randomisedLon);\n\n\tconst finalLat = latMagnitude > 90 ? 89.99 * latMagnitude / randomisedLat : randomisedLat;\n\tconst finalLon = lonMagnitude > 180 ? 179.99 * lonMagnitude / randomisedLon : randomisedLon;\n\tconst position = {lat: finalLat, lng: finalLon};\n\n\treturn (\n\t\t<Marker\n\t\t\tposition={position}\n\t\t\tclickable={false}\t\n\t\t/>\n\t);\n}\n\nconst containerStyle = {\n\twidth: '100%',\n\theight: '90vh',\n\tmargin: 'auto'\n};\n\nconst UserMap = () => {\n\t//const [map, setMap] = useState(null)\n\tconst [userLocations, setUserLocations] = useState([]);\n\tconst [mapCentre, setMapCentre] = useState({lat: 0, lng: 0});\n\n\t// const onLoad = React.useCallback(function callback(map) {\n\t// \tconst bounds = new window.google.maps.LatLngBounds();\n\t// \tmap.fitBounds(bounds);\n\t// \tsetMap(map);\n\t// }, []);\n\n\t// const onUnmount = React.useCallback(function callback(map) {\n\t// \tsetMap(null)\n\t// }, []);\n\n\tuseEffect(() => {\n\t\tgetThisPage('/map')\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tsetMapCentre({lat: response.lat, lng: response.lon});\n\t\t\t\t\tsetUserLocations(response.locations);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\tconst generatedMarkers = userLocations.map((location, index) => {\n\t\treturn (\n\t\t\t<GeneratedMarker lat={location.latitude} lon={location.longitude} key={index} />\n\t\t)\n\t})\n\n\tif (!userLocations.length)\n\t\treturn \"Couldn't load user locations!\";\n\treturn (\n\t\t<LoadScript\n\t\t\tgoogleMapsApiKey={apiKey}\n\t\t>\n\t\t\t<GoogleMap\n\t\t\t\tmapContainerStyle={containerStyle}\n\t\t\t\tcenter={mapCentre} // This seems to have absolutely no effect\n\t\t\t\tzoom={6}\n\t\t\t\t//onLoad={onLoad}\n\t\t\t\t//onUnmount={onUnmount}\n\t\t\t>\n\t\t\t\t{generatedMarkers}\n\t\t\t</GoogleMap>\n\t\t</LoadScript>\n\t)\n}\n\nexport default UserMap;\n","import React from 'react';\nimport {generateImageUrl} from '../../modules/httpQueries';\n\n/* eslint-disable */\n\nconst Connection = ({connections, chat, setChat, chatWindow, setChatWindow, setChatUsername}) => {\n\n{\n    return(\n        connections.map( (connection) => \n            <div key={connection.username}>\n            {connection.online ? \n            <>\n                <button className=\"btn btn-secondary\" style={{width: '100%', marginBottom: '3px', justifyContent: 'center'}} onClick={() => {setChatUsername(connection.username); setChat(connection.id); {chat === connection.id ? setChatWindow(!chatWindow) : (chat === null ? setChatWindow(!chatWindow) : (chatWindow == true ? setChatWindow(chatWindow) : setChatWindow(!chatWindow)))}}}>\n                <img src={generateImageUrl(connection.filename)} style={{maxHeight: '30px'}}/>\n                <h4 style={{color: 'white', display: 'inline'}}>  {connection.username} </h4>\n                <div style={{backgroundColor: 'green', height: '10px', width: '10px', borderRadius: '5px', display: 'inline-block'}}></div>\n                </button>\n                \n\n                <br/>\n            </>\n            :\n            <>\n                <button className=\"btn btn-secondary\" style={{width: '100%', marginBottom: '3px', justifyContent: 'center'}} onClick={() => {setChatUsername(connection.username); setChat(connection.id); {chat === connection.id ? setChatWindow(!chatWindow) : (chat === null ? setChatWindow(!chatWindow) : (chatWindow == true ? setChatWindow(chatWindow) : setChatWindow(!chatWindow)))}}}>\n                <img src={generateImageUrl(connection.filename)} style={{maxHeight: '30px'}}/>\n                <h4 style={{color: 'white', display: 'inline'}}>  {connection.username} </h4>\n                <div style={{backgroundColor: 'red', height: '10px', width: '10px', borderRadius: '5px', display: 'inline-block'}}></div>\n                </button>\n                <br/>\n            </>\n            }\n            </div>\n        )\n        \n    )\n}\n\n}\n\nexport default Connection;\n","import React from 'react';\n\n/* eslint-disable */\n\nconst ChatMessages = (({messages, otherUser, mostRecentMessage}) => {\n\n    if (mostRecentMessage == 'blocked')\n        alert(\"Both users must like eachother before messaging is possible!\");\nif (messages)\n{\n    {var asd = 0}\n    {var asd2 = 0}\n    return (\n        \n        messages.map((message, index) => {\n            asd2 = asd;\n            asd = otherUser == message.sender_name ? 1 : 2\n            return (\n                <div key={index}> \n                \n                {asd === 1 ?\n                    <>\n                        {asd !== asd2 ? <h5 style={{textAlign: 'left'}}>{otherUser}</h5> : ''}\n                        <p style={{textAlign: 'left'}}>{message.content}</p>\n                    </>\n                    :\n                    <>\n                        {asd !== asd2 ? <h5 style={{textAlign: 'right'}}>{message.sender_name}</h5> : ''}\n                        <p style={{textAlign: 'right'}}>{message.content}</p>\n                    </>\n                    }\n                    \n                </div>\n            )\n        })\n    )\n}\nelse\n    return (\n        <p>No messages</p>\n    );\n});\n\n\nexport default ChatMessages;\n\n\n","import React, {useEffect, useState} from 'react';\n\nimport {getToken} from '../../modules/userData';\n\nimport {getThisPage} from '../../modules/httpQueries';\n\nimport ChatMessages from './Chatmessages';\n\n/* eslint-disable */\n\nconst Chatwindow = (({socket, chat, chatWindow, chatUsername}) => {\n\n    const [chatMessages, setChatMessages] = useState(null);\n    const [mostRecentMessage, setMostRecentMessage] = useState(null);\n\n    const myToken = getToken();\n    socket.emit('privateChat', {user: chat, me: myToken})\n\n    useEffect(() => {\n        getThisPage(`/chat?id=${chat}`)\n            .then(results => {\n                if (results)\n                {\n                    setChatMessages(results)\n                }\n            })\n    }, [chatWindow, chat, mostRecentMessage]);\n\n    function message()\n    {\n        var message = document.getElementById('message').value;\n        // socket.on('test', () => {\n        if (message)\n        {\n            socket.emit('chat', {\n                msg: message,\n                id: chat,\n                me: myToken\n            }, response => {})\n        \n            document.getElementById('message').value = '';\n        }\n        // })\n    }\n\n\n    socket.on('FromClient', {\n      message: 'asd'\n    })\n    \n    socket.on('chat', function(data) {\n\n        if (data.error == \"block\")\n            setMostRecentMessage(\"blocked\");\n        else\n            setMostRecentMessage(data);\n    })\n\n    function enterPressed(event)\n    {\n        var code = event.keyCode || event.which;\n        if (code === 13)\n            message();\n    }\n\n    return (\n        <>\n            \n            <button className=\"btn btn-primary\" onClick={() => message()}>Send</button>\n            <input type=\"text\" className=\"form-control\" placeholder=\"\" aria-label=\"\" aria-describedby=\"basic-addon1\" name=\"msg\" id=\"message\" autoComplete=\"off\" onKeyPress={enterPressed.bind(this)} />\n            <div style={{display: 'flex', flexDirection: 'column-reverse', overflowY: 'auto'}}>\n                <div style={{display: 'flex', flexDirection: 'column', overflowWrap: 'break-word', padding: '4px'}}>\n                    <ChatMessages messages={chatMessages} otherUser={chatUsername} mostRecentMessage={mostRecentMessage}/>\n                </div>\n            </div>\n            \n        </>\n    )\n})\n\n\nexport default Chatwindow;\n","import React, {useEffect, useState} from 'react';\n\nimport {getConnections, getThisPage} from '../../modules/httpQueries';\n\nimport Connection from './Connection';\nimport Chatwindow from './Chatwindow';\n\n/* eslint-disable */\n\nconst Chat= ({socket}) => {\n\tconst [longPollState, setLongPollState] = useState(false);\n\n    const connectionsWindow =\n    {\n        position: \"fixed\",\n        bottom: '45px',\n        right: '5px',\n        width: '200px',\n        maxWidth: '45%',\n        display: 'none',\n        zIndex: '33'\n    }\n\n    const chatWindoww = \n    {\n        display: 'flex',\n        flexDirection: 'column-reverse',\n        position: 'fixed',\n        bottom: '48px',\n        right: '203px',\n        width: '200px',\n        maxWidth: '40%',\n        backgroundColor: 'gray',\n        height: 'auto',\n        maxHeight: '400px',\n        marginRight: '10px',\n        borderRadius: '10px',\n        zIndex: '33'\n    }\n\n    const connectionButton =\n    {\n        width: '200px',\n        maxWidth: '45%',\n        height: '40px',\n        backgroundColor: 'gray',\n        position: 'fixed',\n        bottom: '5px',\n        right: '5px',\n        textAlign: 'center',\n        zIndex: '32'\n    }\n\n    const [connections, setConnections] = useState(null);\n    const [refresh, setRefresh] = useState(true);\n    const [chat, setChat] = useState(null);\n    const [chatUsername, setChatUsername] = useState(null);\n    const [chatWindowOpen, setChatWindow] = useState(false);\n\n\n    useEffect(() => {\n\t\tgetConnections()\n\t\t\t.then(response => {\n                setConnections(response);\n            });\n\n    }, [refresh, chat]);\n\n    useEffect(() => {\n\t\tgetThisPage('/getLongConnections?count=' + (connections !== null ? connections.length : 0))\n\t\t\t.then(results => {\n\t\t\t\tif (results) {\n\t\t\t\t\tsetConnections(results);\n\t\t\t\t}\n\t\t\t\t//getNotificationsViaLongPolling(notifications);\n\t\t\t\tsetLongPollState(!longPollState);\n\t\t\t});\n\t}, [longPollState]);\n\n\n\n\n    if (connections)\n    {\n        return(\n        <>\n            \n            <div style={connectionsWindow} id=\"connections\">\n                    <Connection connections={connections} chat={chat} setChat={setChat} setChatWindow={setChatWindow} chatWindow={chatWindowOpen} chatUsername={chatUsername} setChatUsername={setChatUsername}/> \n            </div>\n            {chatWindowOpen ?\n                <>\n                \n                    <div style={chatWindoww}>\n                   \n                        {/* <div style={{backgroundColor: \"light-blue\", textAlign: 'center', height: '23px', position: 'relative', bottom: '-10px'}}><p>{chatUsername}</p></div> */}\n                    \n                        <Chatwindow socket={socket} chat={chat} chatWindow={chatWindowOpen} chatUsername={chatUsername}/>\n                        <div style={{backgroundColor: 'transparent', margin: '10px', position: 'absolute', top: '-40px'}}>\n                            <h3>{chatUsername}</h3>\n                        </div>\n                    </div>\n                    \n                </>\n            : ''}\n            <button className=\"btn btn-info\" onClick={() => {openConnections(); setRefresh(!refresh); {chatWindowOpen === true ? setChatWindow(false) : setChatWindow(chatWindowOpen)}}} style={connectionButton}>Connections ({connections.length})</button>\n\n        </>)\n    }\n    else\n    {\n        return(<h1>Loading</h1>)\n    }\n\n\n\nfunction openConnections()\n{\n    var connections = document.getElementById('connections');\n    if (connections.style.display === 'none')\n        connections.style.display = 'block'\n    else\n        connections.style.display = 'none'\n}\n}\n\nexport default Chat;\n","import React, { useState, useEffect } from 'react';\nimport {Switch, Route, BrowserRouter} from 'react-router-dom';\n\nimport io from 'socket.io-client';\nimport './App.css';\nimport Header from './views/Header/Header';\nimport Index from './views/Index/Index';\nimport MyProfile from './views/MyProfile/MyProfile';\nimport MyLikes from './views/MyProfile/MyLikes';\nimport MyVisits from './views/MyProfile/MyVisits';\nimport Map from './views/Map/Map';\n\nimport Chat from './views/Chat/Chat';\n\nimport {getUser} from './modules/userData';\n\nimport {getToken} from './modules/userData';\n\n/* eslint-disable */\n\nfunction App() {\n  let user = getUser();\n\n  const [state, setState] = useState(user);\n  const [popupState, setPopupState] = useState(false);\n  const [socketState, setSocketState] = useState(null);\n  \n  // Logging in to the web socket thing..\n\n  let socket = null;\n\n  useEffect(() => {\n    if (getToken() != \"null\" && getToken())\n    {\n      socket = io.connect('http://localhost:3001');\n      socket.emit('logIn', {token: getToken()});\n      setSocketState(socket);\n    }\n  }, [state]);\n\n  //console.error = () => {};\n\n  return (\n    <>\n      <BrowserRouter>\n        <Header state={state} setState={setState} popupState={popupState} setPopupState={setPopupState} socketState={socketState}/>\n        {getToken() != \"null\" && getToken() ?\n        <>\n          <Chat socket={socketState} /> \n        </> : ''}\n        <Switch>\n\n          <Route path='/myProfile/profile'>\n            <MyProfile setState={setState} state={state} />\n          </Route>\n\n          <Route path='/myProfile/likes'>\n            <MyLikes setState={setState} state={state} />\n          </Route>\n\n          <Route path='/myProfile/visits'>\n            <MyVisits setState={setState} state={state} />\n          </Route>\n\n          <Route path='/confirmEmail'>\n            <Index state={state} action='confirmEmail' setPopupState={setPopupState} />\n          </Route>\n\n          <Route path='/resetPassword'>\n            <Index state={state} action='resetPassword' setPopupState={setPopupState} />\n          </Route>\n\n          <Route path='/apiLogin'>\n            <Index state={state} setState={setState} action='apiLogin' setPopupState={setPopupState} />\n          </Route>\n\n          <Route path='/apiRegister'>\n            <Index state={state} action='apiRegister' setPopupState={setPopupState} />\n          </Route>\n\n          <Route path='/map'>\n            <Map />\n          </Route>\n\n          <Route path='/'>\n            <Index state={state} />\n          </Route>\n\n        </Switch>\n\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\n/* eslint-disable */\n\nReactDOM.render(\n\n    <div className=\"container-fluid\">\n      <App />\n    </div>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}